---
title: Autogenerated
description: Automatically generate puzzle pieces from an image.
draft: false
---

import DemoScript from '../../../components/DemoScript.astro';

## Code

```javascript
let xul = new Image();
xul.src = 'static/xul.jpg';
xul.onload = () => {
  const autogen = new headbreaker.Canvas('autogen-canvas', {
    width: 800, height: 650,
    pieceSize: 100, proximity: 20,
    borderFill: 10, strokeWidth: 1.5,
    lineSoftness: 0.18, image: xul,
  });

  autogen.adjustImagesToPuzzleHeight();
  autogen.autogenerate({
    horizontalPiecesCount: 6,
    verticalPiecesCount: 5
  });
  autogen.draw();
}
```

## Demo

<div id="autogen-canvas" class="demo-canvas"></div>
<div class="demo-buttons not-content">
  <button id="autogen-shuffle">Shuffle</button>
  <button id="autogen-shuffle-grid">Shuffle Grid</button>
  <button id="autogen-shuffle-columns">Shuffle Columns</button>
  <button id="autogen-solve">Solve</button>
</div>

<DemoScript code={`
document.addEventListener('DOMContentLoaded', function () {
  function onClick(id, handler) {
    var el = document.getElementById(id);
    if (el) el.addEventListener('click', function () { handler(); });
  }
  function registerButtons(id, canvas) {
    onClick(id + '-shuffle', function () { canvas.shuffle(0.8); canvas.redraw(); });
    onClick(id + '-shuffle-grid', function () { canvas.shuffleGrid(1.2); canvas.redraw(); });
    onClick(id + '-shuffle-columns', function () { canvas.shuffleColumns(1.2); canvas.redraw(); });
    onClick(id + '-solve', function () { canvas.solve(); canvas.redraw(); });
  }
  var xul = new Image();
  xul.src = '/headbreaker/static/xul.jpg';
  xul.onload = function () {
    var autogen = new headbreaker.Canvas('autogen-canvas', {
      width: 800, height: 650,
      pieceSize: 100, proximity: 20,
      borderFill: 10, strokeWidth: 1.5,
      lineSoftness: 0.18, image: xul,
    });
    autogen.adjustImagesToPuzzleHeight();
    autogen.autogenerate({
      horizontalPiecesCount: 6,
      verticalPiecesCount: 5
    });
    autogen.draw();
    registerButtons('autogen', autogen);
  };
});
`} />
